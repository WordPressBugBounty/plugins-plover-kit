(()=>{"use strict";var e,o={293:(e,o,n)=>{const t=window.wp.hooks,i=window.wp.compose,r=window.wp.blocks,l=window.wp.domReady;var s=n.n(l);const c=window.wp.i18n,a=window.wp.element,p=window.wp.data;function g(e){var o,n,t="";if("string"==typeof e||"number"==typeof e)t+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(o=0;o<i;o++)e[o]&&(n=g(e[o]))&&(t&&(t+=" "),t+=n)}else for(n in e)e[n]&&(t&&(t+=" "),t+=n);return t}const u=function(){for(var e,o,n=0,t="",i=arguments.length;n<i;n++)(e=arguments[n])&&(o=g(e))&&(t&&(t+=" "),t+=o);return t},d=window.plover.utils,v=window.plover.icons,h=window.plover.data,b=window.wp.blockEditor,m=window.wp.components,f=window.plover.components,w=window.ReactJSXRuntime;function x({attributes:e,setAttributes:o,position:n=!0,clear:t=!0}){return(0,w.jsx)(b.InspectorControls,{children:(0,w.jsxs)(m.PanelBody,{title:(0,c.__)("Icon","plover"),className:"block-editor-plover-inspector__icons",children:[(0,w.jsx)(f.IconPicker,{iconSlug:e.iconSlug,iconSvgString:e.iconSvgString,iconLibrary:e.iconLibrary,onChange:e=>{o(e)}}),n&&(0,w.jsxs)(m.__experimentalToggleGroupControl,{isBlock:!0,label:(0,c.__)("Icon position","plover"),value:e.iconPosition,onChange:e=>{o({iconPosition:e})},children:[(0,w.jsx)(m.__experimentalToggleGroupControlOption,{value:"left",label:(0,c.__)("Left","plover")}),(0,w.jsx)(m.__experimentalToggleGroupControlOption,{value:"right",label:(0,c.__)("Right","plover")})]}),(0,w.jsx)(f.UnitSlider,{label:(0,c.__)("Icon Size","plover"),value:e.iconSize,min:10,onChange:e=>{o({iconSize:e})}}),t&&(0,w.jsx)(m.Button,{variant:"tertiary",onClick:()=>{o({iconLibrary:null,iconSlug:null,iconSvgString:null})},children:(0,c.__)("Clear icon","plover")})]})})}function S(e){const{attributes:o,setAttributes:n,className:t,isSelected:i,isRTL:r}=e,{align:l,iconSize:s,iconSvgString:c}=o,a=(0,b.useBlockEditingMode)(),p=u(t,{[`has-text-align-${l}`]:l}),g=(0,b.useBlockProps)({className:p}),v=(0,w.jsxs)(w.Fragment,{children:["default"===a&&(0,w.jsx)(b.BlockControls,{group:"block",children:(0,w.jsx)(b.AlignmentControl,{value:l,onChange:e=>n({align:e,dropCap:!1})})}),(0,w.jsx)(x,{position:!1,clear:!1,...e,setAttributes:e=>{n(void 0===e?.iconSvgString?e:{...e,content:""})}})]});let h=!1,f=!1;return"center"===l?(h=!0,f=!0):r?(h="left"===l,f="left"!==l):(f="right"===l,h="right"!==l),(0,w.jsxs)(w.Fragment,{children:[v,(0,w.jsx)("div",{...g,children:(0,w.jsx)(m.ResizableBox,{enable:{bottom:!0,left:f,right:h,top:!1},lockAspectRatio:!0,showHandle:i,style:{display:"inline-block"},size:{width:s,height:s},onResizeStop:(e,o,t,i)=>{const r=parseInt(parseInt(s)+i.width,10)+"px";n({iconSize:r})},children:(0,w.jsx)("span",{dangerouslySetInnerHTML:{__html:(0,d.sanitizeSvgColor)(c)}})})})]})}const _=window.wp.richText,k="plover/inline-icon-placeholder",y=(0,c.__)("Plover: Inline Icon","plover");function j(e){const{contentRef:o,onClose:n}=e,t=(0,_.useAnchor)({editableContentElement:o.current,settings:C});return(0,w.jsx)(m.Popover,{placement:"bottom-start",offset:8,focusOnMount:!1,anchor:t,className:"plover-format__inline-icon-popover",onClose:n,children:(0,w.jsxs)(f.Tips,{children:[(0,w.jsx)("p",{dangerouslySetInnerHTML:{__html:(0,c.sprintf)(/* translators: %s is the premium text and link. */ /* translators: %s is the premium text and link. */
(0,c.__)("Upgrade to %s to unlock %s.","plover"),'<a href="'+(0,d.upsell_url)()+'" target="_blank">'+(0,c.__)("Premium","plover")+"</a>",'<a href="https://wpplover.com/docs/plover-kit/modules/icon-block/#add-inline-icon" target="_blank">'+(0,c.__)("inline icon format","plover")+"</a>")}}),(0,w.jsx)("a",{href:(0,d.upsell_url)(),target:"_blank",children:(0,c.__)("Upgrade Now â†—","plover")})]})})}const C={name:k,title:y,tagName:"span",className:"plover-inline-icon-placeholder",edit:function(e){const[o,n]=(0,a.useState)(!1);return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(b.RichTextToolbarButton,{icon:v.starSparkle,title:y,onClick:()=>{n(!0)},isActive:o}),o&&(0,w.jsx)(j,{onClose:()=>n(!1),...e})]})}};(0,_.registerFormatType)(k,C);const I={iconLibrary:{type:"string"},iconSlug:{type:"string"},iconPosition:{type:"string",default:"right"},iconSize:{type:"string",default:"18px"},iconSvgString:{type:"string"}};(0,t.addFilter)("blocks.registerBlockType","plover/icon-attributes",((e,o)=>((0,d.getExtensionSetting)("icon","blocks",[]).includes(o)&&(e.attributes={...e.attributes,...(0,d.getExtensionSetting)("icon","attributes",I)}),e))),(0,t.addFilter)("editor.BlockEdit","plover/icon-controls",(e=>o=>{const{name:n,attributes:t}=o;return(0,d.getExtensionSetting)("icon","blocks",[]).includes(n)?"core/paragraph"===n?t?.className?.includes("is-style-icon")?(0,w.jsx)(S,{...o}):(0,w.jsx)(e,{...o}):(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(e,{...o}),(0,w.jsx)(x,{...o})]}):(0,w.jsx)(e,{...o})}),5),(0,t.addFilter)("editor.BlockListBlock","plover/with-icon-styles",(0,i.createHigherOrderComponent)((e=>o=>{const n=(0,d.getExtensionSetting)("icon","blocks",[]),{attributes:t,name:i,clientId:r}=o;if(!n.includes(i))return(0,w.jsx)(e,{...o});const l=(0,p.useSelect)((e=>e(h.ploverIconsStore).getIsResetting()),[]),[s,c]=(0,a.useState)((0,d.getExtensionSetting)("icon","libraries",{}));(0,a.useEffect)((()=>{(0,p.resolveSelect)(h.ploverIconsStore).getIconLibraries().then((e=>{c(e)}))}),[t,l]);const g=u(o?.className,{"icon-library-not-available":t?.iconLibrary&&!s.find((({slug:e})=>function(e,o){return"number"==typeof e||"number"==typeof o?Number(e)===Number(o):e===o}(e,t?.iconLibrary))),[`has-icon__${t?.iconSlug}`]:t?.iconSlug,[`has-icon-position__${t?.iconPosition}`]:t?.iconPosition});let v="";return t?.iconSvgString&&(v+=`--wp--custom--icon--url: url('data:image/svg+xml;utf8,${t.iconSvgString}');`,t?.iconSize&&(v+=`--wp--custom--icon--size: ${t.iconSize};`)),(0,w.jsxs)(w.Fragment,{children:[v&&(0,w.jsx)("style",{children:"#block-"+r+"{"+v+"}"}),(0,w.jsx)(e,{...o,className:g})]})}),"withIcon")),s()((()=>{var e;(0,d.getExtensionSetting)("icon","blocks",[]).includes("core/paragraph")&&((null!==(e=(0,r.getBlockVariations)("core/paragraph"))&&void 0!==e?e:[]).some((e=>"plover-icon"===e.name))||(0,r.registerBlockVariation)("core/paragraph",{name:"plover-icon",title:(0,c.__)("Plover: Icon","plover"),icon:v.starSparkle,description:(0,c.__)("Insert a SVG icon.","plover"),category:"plover-blocks",keywords:["icon","plover","svg"],attributes:{className:"is-style-icon",align:"center",iconLibrary:"plover-core",iconSlug:"star",iconSize:"24px",iconSvgString:'<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon"><path stroke-linecap="round" stroke-linejoin="round" d="M11.48 3.499a.562.562 0 0 1 1.04 0l2.125 5.111a.563.563 0 0 0 .475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 0 0-.182.557l1.285 5.385a.562.562 0 0 1-.84.61l-4.725-2.885a.562.562 0 0 0-.586 0L6.982 20.54a.562.562 0 0 1-.84-.61l1.285-5.386a.562.562 0 0 0-.182-.557l-4.204-3.602a.562.562 0 0 1 .321-.988l5.518-.442a.563.563 0 0 0 .475-.345L11.48 3.5Z"></path></svg>',content:"",style:{typography:{lineHeight:"1"}}},scope:["block","inserter","transform"],isActive:e=>e&&e?.className?.includes("is-style-icon")}))}))}},n={};function t(e){var i=n[e];if(void 0!==i)return i.exports;var r=n[e]={exports:{}};return o[e](r,r.exports,t),r.exports}t.m=o,e=[],t.O=(o,n,i,r)=>{if(!n){var l=1/0;for(p=0;p<e.length;p++){n=e[p][0],i=e[p][1],r=e[p][2];for(var s=!0,c=0;c<n.length;c++)(!1&r||l>=r)&&Object.keys(t.O).every((e=>t.O[e](n[c])))?n.splice(c--,1):(s=!1,r<l&&(l=r));if(s){e.splice(p--,1);var a=i();void 0!==a&&(o=a)}}return o}r=r||0;for(var p=e.length;p>0&&e[p-1][2]>r;p--)e[p]=e[p-1];e[p]=[n,i,r]},t.n=e=>{var o=e&&e.__esModule?()=>e.default:()=>e;return t.d(o,{a:o}),o},t.d=(e,o)=>{for(var n in o)t.o(o,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:o[n]})},t.o=(e,o)=>Object.prototype.hasOwnProperty.call(e,o),(()=>{var e={829:0,138:0};t.O.j=o=>0===e[o];var o=(o,n)=>{var i,r,l=n[0],s=n[1],c=n[2],a=0;if(l.some((o=>0!==e[o]))){for(i in s)t.o(s,i)&&(t.m[i]=s[i]);if(c)var p=c(t)}for(o&&o(n);a<l.length;a++)r=l[a],t.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return t.O(p)},n=self.webpackChunkplover_core=self.webpackChunkplover_core||[];n.forEach(o.bind(null,0)),n.push=o.bind(null,n.push.bind(n))})();var i=t.O(void 0,[138],(()=>t(293)));i=t.O(i)})();