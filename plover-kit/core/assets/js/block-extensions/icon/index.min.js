(()=>{"use strict";var e,n={813:(e,n,t)=>{const o=window.wp.hooks,i=window.wp.compose,r=window.wp.data,l=window.wp.blocks,s=window.wp.domReady;var c=t.n(s);const a=window.wp.i18n;function p(e){var n,t,o="";if("string"==typeof e||"number"==typeof e)o+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(n=0;n<i;n++)e[n]&&(t=p(e[n]))&&(o&&(o+=" "),o+=t)}else for(t in e)e[t]&&(o&&(o+=" "),o+=t);return o}const u=function(){for(var e,n,t=0,o="",i=arguments.length;t<i;t++)(e=arguments[t])&&(n=p(e))&&(o&&(o+=" "),o+=n);return o},g=window.plover.utils,d=window.wp.blockEditor,v=window.wp.components,h=window.wp.element,b=window.plover.components;function m(e,n){return"number"==typeof e||"number"==typeof n?Number(e)===Number(n):e===n}const x=window.ReactJSXRuntime;function _({current:e,icons:n,onChange:t}){const[o,i]=(0,h.useState)(""),r=n.filter((({tags:e,slug:n,name:t})=>""===o.trim()||((null!=e?e:[]).join("")+n+t).toLowerCase().includes(o.trim().toLowerCase())));return(0,x.jsx)(v.__experimentalDropdownContentWrapper,{paddingSize:"none",className:"plover-icon-settings-panel__popover-content",children:(0,x.jsxs)(v.__experimentalVStack,{spacing:"12px",children:[(0,x.jsx)(v.TextControl,{label:(0,a.__)("Filter","plover"),value:o,onChange:i}),(0,x.jsx)("div",{className:"plover-icon-settings-panel__icon-list",style:{width:"300px",height:"240px"},children:(0,x.jsx)(b.AutoSizer,{children:({width:n,height:o})=>{const i=Math.floor((n-16)/5),l=i,s=i;return(0,x.jsx)(b.FixedSizeGrid,{itemData:r,columnCount:5,columnWidth:l,rowCount:Math.ceil(r.length/5),rowHeight:s,height:o,width:n,children:({columnIndex:n,rowIndex:o,style:i})=>{const l=r[5*o+n];return l?(0,x.jsx)("div",{style:i,className:"plover-icon-settings-panel__icon-preview-wrap",children:(0,x.jsx)("button",{"aria-label":l.name,className:u({"plover-icon-settings-panel__icon-preview":!0,active:m(e,l.slug)}),dangerouslySetInnerHTML:{__html:l.svg},onClick:()=>{t({icon:String(l.slug),svg:l.svg})}})}):null}})}})}),r.length<=0&&(0,x.jsx)("p",{className:"plover-icon-settings-panel__no-result",children:(0,a.__)("No icons","plover")})]})})}function f({attributes:e,setAttributes:n}){var t,o;const{iconSlug:i,iconSvgString:l,iconLibrary:s}=e,[c,p]=(0,h.useState)(!1),[u,d]=(0,h.useState)([]),f=(0,g.getExtensionSetting)("icon","libraries",{}),S=null!==(t=f.find((({slug:e})=>m(e,s))))&&void 0!==t?t:{},w=u.find((({slug:e})=>m(e,i)));return(0,h.useEffect)((()=>{S?.slug&&"none"!==S?.slug?(p(!0),(0,r.resolveSelect)("plover/icons").getIcons(S?.slug).then((({library:e,icons:n})=>{m(e,s)&&d(null!=n?n:[])})).finally((()=>{p(!1)}))):d([])}),[s]),(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(v.SelectControl,{label:(0,a.__)("Icon library","plover"),value:null!==(o=S?.slug)&&void 0!==o?o:"none",options:[{label:"None",value:"none"},...f.map((({name:e,slug:n})=>({label:e,value:n})))],onChange:e=>{n({iconLibrary:"none"===e?null:e,iconSlug:null,iconSvgString:null})}}),(0,x.jsx)(v.BaseControl,{label:(0,a.__)("Select icon","plover"),children:c?(0,x.jsx)("div",{children:(0,x.jsx)(v.Spinner,{})}):(0,x.jsx)(b.Popover,{className:"plover-icon-settings-panel__icon-picker",toggle:{icon:S?.slug?l:"",label:S?.name?S?.name+" / "+(w?(0,g.titleCase)(w?.name):(0,a.__)("None","plover")):(0,a.__)("None","plover")},renderContent:()=>(0,x.jsx)(_,{current:i,icons:u,onChange:({icon:e,svg:t})=>{n({iconSlug:e,iconSvgString:t})}})})})]})}function S({attributes:e,setAttributes:n,position:t=!0,clear:o=!0}){return(0,x.jsx)(d.InspectorControls,{children:(0,x.jsxs)(v.PanelBody,{title:(0,a.__)("Icon","plover"),className:"block-editor-plover-inspector__icons",children:[(0,x.jsx)(f,{attributes:e,setAttributes:n}),(0,x.jsx)(b.Tips,{children:(0,x.jsxs)("p",{children:[(0,x.jsx)("span",{dangerouslySetInnerHTML:{__html:(0,a.sprintf)(/* translators: %s is the plover kit plugin name */ /* translators: %s is the plover kit plugin name */
(0,a.__)("Use the %s plugin to get more icons from the Icon Library.","plover"),'<a href="https://wpplover.com/plugins/plover-kit/" target="_blank">'+(0,a.__)("Plover Kit","plover")+"</a>")}}),(0,x.jsx)("a",{href:"https://wpplover.com/docs/plover-kit/modules/icon-library/",target:"_blank",children:(0,a.__)("Documentation â†—","plover")})]})}),t&&(0,x.jsxs)(v.__experimentalToggleGroupControl,{isBlock:!0,label:(0,a.__)("Icon position","plover"),value:e.iconPosition,onChange:e=>{n({iconPosition:e})},children:[(0,x.jsx)(v.__experimentalToggleGroupControlOption,{value:"left",label:(0,a.__)("Left","plover")}),(0,x.jsx)(v.__experimentalToggleGroupControlOption,{value:"right",label:(0,a.__)("Right","plover")})]}),(0,x.jsx)(b.UnitSlider,{label:(0,a.__)("Icon Size","plover"),value:e.iconSize,min:10,onChange:e=>{n({iconSize:e})}}),o&&(0,x.jsx)(v.Button,{variant:"tertiary",onClick:()=>{n({iconLibrary:null,iconSlug:null,iconSvgString:null})},children:(0,a.__)("Clear icon","plover")})]})})}function w(e){if("string"!=typeof e)return e;const n=(new DOMParser).parseFromString(e,"text/html");return n?.body?.firstChild?(n?.body?.firstChild?.getAttribute("fill")||n?.body?.firstChild?.setAttribute("fill","currentColor"),n?.body?.firstChild?.getAttribute("stroke")||n?.body?.firstChild?.setAttribute("stroke","currentColor"),n?.body?.innerHTML):e}function y(e){const{attributes:n,setAttributes:t,className:o,isSelected:i,isRTL:r}=e,{align:l,iconSize:s,iconSvgString:c}=n,a=(0,d.useBlockEditingMode)(),p=u(o,{[`has-text-align-${l}`]:l}),g=(0,d.useBlockProps)({className:p}),h=(0,x.jsxs)(x.Fragment,{children:["default"===a&&(0,x.jsx)(d.BlockControls,{group:"block",children:(0,x.jsx)(d.AlignmentControl,{value:l,onChange:e=>t({align:e,dropCap:!1})})}),(0,x.jsx)(S,{position:!1,clear:!1,...e,setAttributes:e=>{t(void 0===e?.iconSvgString?e:{...e,content:""})}})]});let b=!1,m=!1;return"center"===l?(b=!0,m=!0):r?(b="left"===l,m="left"!==l):(m="right"===l,b="right"!==l),(0,x.jsxs)(x.Fragment,{children:[h,(0,x.jsx)("div",{...g,children:(0,x.jsx)(v.ResizableBox,{enable:{bottom:!0,left:m,right:b,top:!1},lockAspectRatio:!0,showHandle:i,style:{display:"inline-block"},size:{width:s,height:s},onResizeStop:(e,n,o,i)=>{const r=parseInt(parseInt(s)+i.width,10)+"px";t({iconSize:r})},children:(0,x.jsx)("span",{dangerouslySetInnerHTML:{__html:w(c)}})})})]})}const j=window.plover.api,k={libraries:{}},C={fetchIconsFromAPI:e=>({type:"FETCH_ICONS_FROM_API",library:e}),setIcons:(e,{icons:n})=>({type:"SET_LIBRARY_ICONS",library:e,icons:n})},I={name:"plover/icons",options:{reducer:(e=k,n)=>("SET_LIBRARY_ICONS"===n.type&&(e={...e,libraries:{...e.libraries,[n.library]:n.icons}}),e),actions:C,selectors:{getIcons:(e,n)=>{var t;return{library:n,icons:null!==(t=e.libraries[n])&&void 0!==t?t:{}}}},controls:{FETCH_ICONS_FROM_API:({library:e})=>(0,j.fetchIcons)(e)},resolvers:{*getIcons(e){const n=yield C.fetchIconsFromAPI(e);return C.setIcons(e,n)}}}};function L(e){return(0,x.jsx)(v.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",...e,children:(0,x.jsx)("g",{children:(0,x.jsx)(v.Path,{d:"M472.208 201.712c9.271-9.037 12.544-22.3 8.544-34.613-4.001-12.313-14.445-21.118-27.257-22.979l-112.03-16.279a6.75 6.75 0 0 1-5.084-3.694L286.28 22.632c-5.729-11.61-17.331-18.822-30.278-18.822s-24.549 7.212-30.278 18.822l-50.101 101.516a6.756 6.756 0 0 1-5.085 3.694L58.51 144.12c-12.812 1.861-23.255 10.666-27.257 22.979-4.002 12.313-.728 25.576 8.544 34.613l81.065 79.019a6.755 6.755 0 0 1 1.942 5.978l-19.137 111.576c-2.188 12.761 2.958 25.414 13.432 33.024 10.474 7.612 24.102 8.595 35.56 2.572l100.201-52.679a6.751 6.751 0 0 1 6.286 0l100.202 52.679c4.984 2.62 10.377 3.915 15.744 3.914 6.97 0 13.896-2.184 19.813-6.487 10.474-7.611 15.621-20.265 13.432-33.024L389.2 286.708a6.758 6.758 0 0 1 1.942-5.978l81.066-79.018zm-109.629 89.564 19.137 111.578c.64 3.734-1.665 5.863-2.686 6.604-1.022.74-3.76 2.277-7.112.513l-100.202-52.679a33.76 33.76 0 0 0-31.424-.001l-100.201 52.678c-3.354 1.763-6.091.228-7.112-.513s-3.327-2.87-2.686-6.604l19.137-111.576a33.755 33.755 0 0 0-9.711-29.886l-81.065-79.019c-2.713-2.646-2.099-5.723-1.708-6.923.389-1.201 1.702-4.052 5.451-4.596l112.027-16.279a33.76 33.76 0 0 0 25.424-18.471l50.101-101.516c1.677-3.397 4.793-3.764 6.056-3.764 1.261 0 4.377.366 6.055 3.764v.001l50.101 101.516a33.754 33.754 0 0 0 25.422 18.471l112.029 16.279c3.749.544 5.061 3.395 5.451 4.596.39 1.201 1.005 4.279-1.709 6.923l-81.065 79.019a33.754 33.754 0 0 0-9.71 29.885zM413.783 22.625c-6.036-4.384-14.481-3.046-18.865 2.988l-14.337 19.732c-4.384 6.034-3.047 14.481 2.988 18.865a13.456 13.456 0 0 0 7.928 2.58c4.177 0 8.295-1.931 10.937-5.567l14.337-19.732c4.384-6.035 3.047-14.482-2.988-18.866zM131.36 45.265l-14.337-19.732c-4.383-6.032-12.829-7.37-18.865-2.988-6.034 4.384-7.372 12.831-2.988 18.865l14.337 19.732a13.485 13.485 0 0 0 10.939 5.569c2.753 0 5.531-.839 7.927-2.581 6.034-4.383 7.372-12.83 2.987-18.865zM49.552 306.829c-2.305-7.093-9.924-10.976-17.019-8.671l-23.197 7.538c-7.095 2.305-10.976 9.926-8.671 17.019 1.854 5.709 7.149 9.337 12.842 9.337 1.383 0 2.79-.215 4.177-.666l23.197-7.538c7.094-2.305 10.976-9.924 8.671-17.019zM256.005 456.786c-7.459 0-13.506 6.047-13.506 13.506v24.392c0 7.459 6.047 13.506 13.506 13.506 7.459 0 13.506-6.047 13.506-13.506v-24.392c0-7.46-6.046-13.506-13.506-13.506zM502.664 305.715l-23.197-7.538c-7.092-2.303-14.714 1.577-17.019 8.672-2.305 7.095 1.576 14.714 8.671 17.019l23.197 7.538a13.51 13.51 0 0 0 4.176.664c5.694 0 10.989-3.629 12.843-9.337 2.305-7.094-1.577-14.713-8.671-17.018z",fill:"currentColor"})})})}const N={iconLibrary:{type:"string"},iconSlug:{type:"string"},iconPosition:{type:"string",default:"right"},iconSize:{type:"string",default:"18px"},iconSvgString:{type:"string"}};(0,o.addFilter)("blocks.registerBlockType","plover/icon-attributes",((e,n)=>((0,g.getExtensionSetting)("icon","blocks",[]).includes(n)&&(e.attributes={...e.attributes,...(0,g.getExtensionSetting)("icon","attributes",N)}),e))),(0,o.addFilter)("editor.BlockEdit","plover/icon-controls",(e=>n=>{const{name:t,attributes:o}=n;return(0,g.getExtensionSetting)("icon","blocks",[]).includes(t)?"core/paragraph"===t?o?.className?.includes("is-style-icon")?(0,x.jsx)(y,{...n}):(0,x.jsx)(e,{...n}):(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(e,{...n}),(0,x.jsx)(S,{...n})]}):(0,x.jsx)(e,{...n})}),5),(0,o.addFilter)("editor.BlockListBlock","plover/with-icon-styles",(0,i.createHigherOrderComponent)((e=>n=>{const t=(0,g.getExtensionSetting)("icon","blocks",[]),{attributes:o,name:i,clientId:r}=n,l=(0,g.getExtensionSetting)("icon","libraries",{});if(!t.includes(i))return(0,x.jsx)(e,{...n});const s=u(n?.className,{"icon-library-not-available":o?.iconLibrary&&!l.find((({slug:e})=>m(e,o?.iconLibrary))),[`has-icon__${o?.iconSlug}`]:o?.iconSlug,[`has-icon-position__${o?.iconPosition}`]:o?.iconPosition});let c="";return o?.iconSvgString&&(c+=`--wp--custom--icon--url: url('data:image/svg+xml;utf8,${o.iconSvgString}');`,o?.iconSize&&(c+=`--wp--custom--icon--size: ${o.iconSize};`)),(0,x.jsxs)(x.Fragment,{children:[c&&(0,x.jsx)("style",{children:"#block-"+r+"{"+c+"}"}),(0,x.jsx)(e,{...n,className:s})]})}),"withIcon")),c()((()=>{var e;(0,g.getExtensionSetting)("icon","blocks",[]).includes("core/paragraph")&&((null!==(e=(0,l.getBlockVariations)("core/paragraph"))&&void 0!==e?e:[]).some((e=>"plover-icon"===e.name))||(0,l.registerBlockVariation)("core/paragraph",{name:"plover-icon",title:(0,a.__)("Plover: Icon","plover"),icon:L,description:(0,a.__)("Insert a SVG icon.","plover"),category:"plover-blocks",keywords:["icon","plover","svg"],attributes:{className:"is-style-icon",align:"center",iconLibrary:"plover-core",iconSlug:"star",iconSize:"24px",iconSvgString:'<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true" data-slot="icon"><path stroke-linecap="round" stroke-linejoin="round" d="M11.48 3.499a.562.562 0 0 1 1.04 0l2.125 5.111a.563.563 0 0 0 .475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 0 0-.182.557l1.285 5.385a.562.562 0 0 1-.84.61l-4.725-2.885a.562.562 0 0 0-.586 0L6.982 20.54a.562.562 0 0 1-.84-.61l1.285-5.386a.562.562 0 0 0-.182-.557l-4.204-3.602a.562.562 0 0 1 .321-.988l5.518-.442a.563.563 0 0 0 .475-.345L11.48 3.5Z"></path></svg>',content:"",style:{typography:{lineHeight:"1"}}},scope:["block","inserter","transform"],isActive:e=>e&&e?.className?.includes("is-style-icon")}))})),r.register?(0,r.register)((0,r.createReduxStore)(I.name,I.options)):(0,r.registerStore)(I.name,I.options)}},t={};function o(e){var i=t[e];if(void 0!==i)return i.exports;var r=t[e]={exports:{}};return n[e](r,r.exports,o),r.exports}o.m=n,e=[],o.O=(n,t,i,r)=>{if(!t){var l=1/0;for(p=0;p<e.length;p++){t=e[p][0],i=e[p][1],r=e[p][2];for(var s=!0,c=0;c<t.length;c++)(!1&r||l>=r)&&Object.keys(o.O).every((e=>o.O[e](t[c])))?t.splice(c--,1):(s=!1,r<l&&(l=r));if(s){e.splice(p--,1);var a=i();void 0!==a&&(n=a)}}return n}r=r||0;for(var p=e.length;p>0&&e[p-1][2]>r;p--)e[p]=e[p-1];e[p]=[t,i,r]},o.n=e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return o.d(n,{a:n}),n},o.d=(e,n)=>{for(var t in n)o.o(n,t)&&!o.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:n[t]})},o.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),(()=>{var e={829:0,138:0};o.O.j=n=>0===e[n];var n=(n,t)=>{var i,r,l=t[0],s=t[1],c=t[2],a=0;if(l.some((n=>0!==e[n]))){for(i in s)o.o(s,i)&&(o.m[i]=s[i]);if(c)var p=c(o)}for(n&&n(t);a<l.length;a++)r=l[a],o.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return o.O(p)},t=self.webpackChunkplover_core=self.webpackChunkplover_core||[];t.forEach(n.bind(null,0)),t.push=n.bind(null,t.push.bind(t))})();var i=o.O(void 0,[138],(()=>o(813)));i=o.O(i)})();