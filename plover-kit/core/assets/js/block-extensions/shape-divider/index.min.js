(()=>{"use strict";var e,o={722:()=>{const e=window.wp.hooks,o=window.wp.compose;function t(e){var o,r,s="";if("string"==typeof e||"number"==typeof e)s+=e;else if("object"==typeof e)if(Array.isArray(e)){var l=e.length;for(o=0;o<l;o++)e[o]&&(r=t(e[o]))&&(s&&(s+=" "),s+=r)}else for(r in e)e[r]&&(s&&(s+=" "),s+=r);return s}const r=function(){for(var e,o,r=0,s="",l=arguments.length;r<l;r++)(e=arguments[r])&&(o=t(e))&&(s&&(s+=" "),s+=o);return s},s=window.plover.utils;function l(e=null){const o=(0,s.getExtensionSetting)("shapeDivider","shapes",{});if("none"!==e)return null===e?o:o[e]}const n=window.wp.element,i=window.plover.data,a=window.ReactJSXRuntime;function p({shapeData:e,attributes:o}){const{invertShape:t,flipShape:r,shapePosition:l}=o,p=(0,n.useRef)(),[h]=(0,i.useDeviceType)(),v=(0,n.useMemo)((()=>{var e,t,r,l;const n=(0,s.getScalarValueByDevice)(null!==(e=o?.shapeWidth)&&void 0!==e?e:"100%",h),i=(0,s.getScalarValueByDevice)(null!==(t=o?.shapeHeight)&&void 0!==t?t:"50px",h),a=Number(null!==(r=o?.shapeZIndex)&&void 0!==r?r:9),p=null!==(l=o?.shapeColor)&&void 0!==l?l:"#ffffff",v={"--plover-shape-width":n,"--plover-shape-height":i};return isNaN(a)||(v["--plover-shape-z-index"]=a),p&&(v["--plover-shape-color"]=p),Object.keys(v).map((e=>`${e}:${v[e]};`)).join("")}),[h,o]);return(0,n.useEffect)((()=>{if(!p?.current)return;const o=(0,s.findElementFromCurrent)(p?.current,"plover-shape-divider__block");if(!o)return;const n=t&&-1!==e.options.indexOf("shape_invert"),i=r&&-1!==e.options.indexOf("shape_flip"),a=e.files[n?"negative":"svg"];if(!a)return;const h=document.createElement("div");return h.className="plover-shape-divider",h.dataset.position=l,h.dataset.negative=n?"true":"false",h.dataset.flip=i?"true":"false",h.style=v,h.innerHTML=a,o.appendChild(h),()=>{h.remove()}}),[p,v,e,t,r,l]),(0,a.jsx)("span",{ref:p,"data-role":"plover-indicator",className:"plover-shape-divider__editor-indicator"})}function h({attributes:e}){const{shapeDivider:o}=e,t=l(o);return!t||!t?.files||Object.keys(t?.files)<=0?null:(0,a.jsx)(p,{shapeData:t,attributes:e})}const v=window.wp.blockEditor,d=window.wp.components,c=window.wp.i18n,u=window.plover.components;function _({value:e,onChange:o}){const t=l();return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("div",{className:"plover-shapes-selector",children:Object.keys(t).map((s=>{const l=t[s];return"none"===s?(0,a.jsx)("div",{onClick:()=>o("none"),className:r("plover-shape-preview plover-shape-preview-none",{active:s===e}),children:(0,c.__)("None","plover")},s):Object.keys(l.files).length<=0||!l.files.svg?null:(0,a.jsx)("div",{onClick:()=>{o(s)},className:r("plover-shape-preview",{active:s===e}),dangerouslySetInnerHTML:{__html:l.files.svg}},s)}))})})}function f({attributes:e,setAttributes:o}){const{shapeDivider:t,shapePosition:r,shapeColor:s,flipShape:n,invertShape:i,shapeWidth:p,shapeHeight:h,shapeZIndex:v}=e,_=l(t);return _?(0,a.jsxs)(d.__experimentalToolsPanel,{resetAll:()=>{o({shapePosition:"bottom",shapeColor:void 0,flipShape:void 0,invertShape:void 0,shapeWidth:void 0,shapeHeight:void 0,shapeZIndex:void 0})},label:(0,c.__)("Shape options","plover"),className:"plover-shape-options__panel",children:[-1!==_.options.indexOf("shape_flip")&&(0,a.jsx)(d.__experimentalToolsPanelItem,{label:(0,c.__)("Flip shape","plover"),hasValue:()=>void 0!==n,onDeselect:()=>{o({flipShape:void 0})},children:(0,a.jsx)(d.ToggleControl,{label:(0,c.__)("Enable flip","plover"),checked:!!n,onChange:e=>{o({flipShape:e})}})}),-1!==_.options.indexOf("shape_invert")&&(0,a.jsx)(d.__experimentalToolsPanelItem,{label:(0,c.__)("Invert shape","plover"),hasValue:()=>void 0!==i,onDeselect:()=>{o({invertShape:void 0})},children:(0,a.jsx)(d.ToggleControl,{label:(0,c.__)("Enable invert","plover"),checked:!!i,onChange:e=>{o({invertShape:e})}})}),(0,a.jsx)(d.__experimentalToolsPanelItem,{label:(0,c.__)("Shape color","plover"),hasValue:()=>void 0!==s,onDeselect:()=>{o({shapeColor:void 0})},isShownByDefault:!0,children:(0,a.jsx)(u.ColorPopover,{label:(0,c.__)("Shape color","plover"),hasBorder:!0,excludePresets:["transparent"],value:s,enableAlpha:!0,onChange:e=>{o({shapeColor:e})}})}),(0,a.jsx)(d.__experimentalToolsPanelItem,{label:(0,c.__)("Shape position","plover"),hasValue:()=>"bottom"!==r,onDeselect:()=>{o({shapePosition:"bottom"})},isShownByDefault:!0,children:(0,a.jsx)(u.ToggleGroup,{label:(0,c.__)("Position","plover"),value:r,onChange:e=>{o({shapePosition:e})},options:[{label:(0,c.__)("Top","plover"),value:"top"},{label:(0,c.__)("Bottom","plover"),value:"bottom"}]})}),(0,a.jsx)(d.__experimentalToolsPanelItem,{label:(0,c.__)("Shape width","plover"),hasValue:()=>void 0!==p,onDeselect:()=>{o({shapeWidth:void 0})},children:(0,a.jsx)(u.ResponsiveControl,{title:(0,c.__)("Shape width","plover"),Component:u.UnitSlider,value:p,onChange:e=>{o({shapeWidth:e})},controlProps:{defaultUnit:"%",min:0}})}),(0,a.jsx)(d.__experimentalToolsPanelItem,{label:(0,c.__)("Shape height","plover"),hasValue:()=>void 0!==h,onDeselect:()=>{o({shapeHeight:void 0})},children:(0,a.jsx)(u.ResponsiveControl,{title:(0,c.__)("Shape height","plover"),Component:u.UnitSlider,value:h,onChange:e=>{o({shapeHeight:e})},controlProps:{min:0}})}),(0,a.jsx)(d.__experimentalToolsPanelItem,{label:(0,c.__)("Shape Z-Index","plover"),hasValue:()=>void 0!==v,onDeselect:()=>{o({shapeZIndex:void 0})},children:(0,a.jsx)(d.__experimentalNumberControl,{label:(0,c.__)("Shape Z-Index","plover"),value:v,step:1,onChange:e=>{o({shapeZIndex:Number(e)})}})})]}):null}function m({attributes:e,setAttributes:o}){const{shapeDivider:t}=e;return(0,a.jsx)(v.InspectorControls,{children:(0,a.jsxs)(d.PanelBody,{title:(0,c.__)("Plover: Shape Divider","plover"),children:[(0,a.jsx)(_,{value:t,onChange:e=>{o({shapeDivider:e})}}),!(0,s.is_premium)()&&(0,a.jsxs)(u.Tips,{children:[(0,a.jsx)("p",{dangerouslySetInnerHTML:{__html:(0,c.sprintf)(/* translators: %s is the premium text and link. */ /* translators: %s is the premium text and link. */
(0,c.__)("Upgrade to %s to unlock 25+ premium shapes.","plover"),'<a href="'+(0,s.upsell_url)()+'" target="_blank">'+(0,c.__)("Premium","plover")+"</a>")}}),(0,a.jsx)("a",{href:(0,s.upsell_url)(),target:"_blank",children:(0,c.__)("Upgrade Now â†—","plover")})]}),(0,a.jsx)(f,{attributes:e,setAttributes:o})]})})}(0,e.addFilter)("blocks.registerBlockType","plover/shape-divider-attributes",((e,o)=>["core/cover"].includes(o)?(e.attributes={...e.attributes,shapeDivider:{type:"string",default:"none"},shapePosition:{type:"string",default:"bottom"},shapeColor:{type:"string"},flipShape:{type:"boolean"},invertShape:{type:"boolean"},shapeWidth:{type:"object"},shapeHeight:{type:"object"},shapeZIndex:{type:"number"}},e):e)),(0,e.addFilter)("editor.BlockListBlock","plover/with-shape-divider-classname",(0,o.createHigherOrderComponent)((e=>o=>{const{name:t}=o;if(!["core/cover"].includes(t))return(0,a.jsx)(e,{...o});const s={...o?.wrapperProps,className:r(o?.wrapperProps?.className,"plover-shape-divider__block")};return(0,a.jsx)(e,{...o,wrapperProps:s})}),"withParticlesClassName")),(0,e.addFilter)("editor.BlockEdit","plover/shape-divider-preview-and-controls",(e=>o=>{const{name:t,isSelected:r,attributes:s,setAttributes:n}=o;if(["core/cover"].includes(t)){const t=l(s?.shapeDivider);return(0,a.jsxs)(a.Fragment,{children:[t?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(e,{...o}),(0,a.jsx)(h,{...o})]}):(0,a.jsx)(e,{...o}),r&&(0,a.jsx)(m,{attributes:s,setAttributes:n})]})}return(0,a.jsx)(e,{...o})}))}},t={};function r(e){var s=t[e];if(void 0!==s)return s.exports;var l=t[e]={exports:{}};return o[e](l,l.exports,r),l.exports}r.m=o,e=[],r.O=(o,t,s,l)=>{if(!t){var n=1/0;for(h=0;h<e.length;h++){t=e[h][0],s=e[h][1],l=e[h][2];for(var i=!0,a=0;a<t.length;a++)(!1&l||n>=l)&&Object.keys(r.O).every((e=>r.O[e](t[a])))?t.splice(a--,1):(i=!1,l<n&&(n=l));if(i){e.splice(h--,1);var p=s();void 0!==p&&(o=p)}}return o}l=l||0;for(var h=e.length;h>0&&e[h-1][2]>l;h--)e[h]=e[h-1];e[h]=[t,s,l]},r.o=(e,o)=>Object.prototype.hasOwnProperty.call(e,o),(()=>{var e={457:0,332:0};r.O.j=o=>0===e[o];var o=(o,t)=>{var s,l,n=t[0],i=t[1],a=t[2],p=0;if(n.some((o=>0!==e[o]))){for(s in i)r.o(i,s)&&(r.m[s]=i[s]);if(a)var h=a(r)}for(o&&o(t);p<n.length;p++)l=n[p],r.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return r.O(h)},t=self.webpackChunkplover_core=self.webpackChunkplover_core||[];t.forEach(o.bind(null,0)),t.push=o.bind(null,t.push.bind(t))})();var s=r.O(void 0,[332],(()=>r(722)));s=r.O(s)})();