(()=>{"use strict";var e,t={333:()=>{const e=window.wp.hooks,t=window.wp.compose,r=window.wp.blocks,o=window.wp.i18n,s=window.wp.primitives,n=window.ReactJSXRuntime,a=(0,n.jsx)(s.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,n.jsx)(s.Path,{d:"M18 5.5H6a.5.5 0 00-.5.5v3h13V6a.5.5 0 00-.5-.5zm.5 5H10v8h8a.5.5 0 00.5-.5v-7.5zm-10 0h-3V18a.5.5 0 00.5.5h2.5v-8zM6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6a2 2 0 012-2z"})}),i=window.plover.data,l=window.plover.utils;function c(e){var t,r,o="";if("string"==typeof e||"number"==typeof e)o+=e;else if("object"==typeof e)if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=c(e[t]))&&(o&&(o+=" "),o+=r)}else for(r in e)e[r]&&(o&&(o+=" "),o+=r);return o}const p=function(){for(var e,t,r=0,o="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=c(e))&&(o&&(o+=" "),o+=t);return o},u=window.wp.element,d=window.wp.data,m=window.wp.blockEditor,g=window.wp.components,h=window.wp.coreData,f=window.plover.components;function v(e=null){const t=(0,l.getExtensionSetting)("magazineTemplate","layouts",{});return null===e?t:t[e]}function x({value:e,onChange:t}){const r=v();return(0,n.jsx)("ul",{className:"plover-magazine-layout-selector",children:Object.keys(r).map((o=>{var s,a;const i=r[o],c=i.premium&&!(0,l.is_premium)();return(0,n.jsx)("li",{className:p("plover-magazine-layout-preview",{"is-premium":c,"is-active":o===e}),children:c?(0,n.jsx)("a",{href:(0,l.upsell_url)(),target:"_blank",children:(0,n.jsx)("img",{src:null!==(s=i?.img)&&void 0!==s?s:(0,l.core_assets_url)(`/images/magazine-layout/${o}.png`),alt:o})}):(0,n.jsx)("img",{alt:o,onClick:()=>t(o),src:null!==(a=i?.img)&&void 0!==a?a:(0,l.core_assets_url)(`/images/magazine-layout/${o}.png`)})},o)}))})}function y({attributes:e,setAttributes:t}){const{magazineLayout:r,containerHeight:s}=e;return(0,n.jsx)(m.InspectorControls,{children:(0,n.jsxs)(g.PanelBody,{title:(0,o.__)("Plover: Magazine Layout","plover"),children:[(0,n.jsx)(x,{value:r,onChange:e=>{t({magazineLayout:e})}}),!(0,l.is_premium)()&&(0,n.jsxs)(f.Tips,{children:[(0,n.jsx)("p",{dangerouslySetInnerHTML:{__html:(0,o.sprintf)(/* translators: %s is the premium text and link. */ /* translators: %s is the premium text and link. */
(0,o.__)("Upgrade to %s to unlock all magazine layouts.","plover"),'<a href="'+(0,l.upsell_url)()+'" target="_blank">'+(0,o.__)("Premium","plover")+"</a>")}}),(0,n.jsx)("a",{href:(0,l.upsell_url)(),target:"_blank",children:(0,o.__)("Upgrade Now â†—","plover")})]}),(0,n.jsx)(f.ResponsiveControl,{title:(0,o.__)("Max Height","plover"),Component:f.UnitSlider,value:s,onChange:e=>{t({containerHeight:e})},controlProps:{units:["px","em","rem","vh"],min:0,max:1e3}})]})})}const w=[["core/post-title"],["core/post-date",{metadata:{bindings:{datetime:{source:"core/post-data",args:{field:"date"}}}}}],["core/post-excerpt"]];function k({classList:e}){const t=(0,m.useInnerBlocksProps)({className:p("wp-block-post plover-magazine-item",e)},{template:w,__unstableDisableLayoutClassNames:!0});return(0,n.jsx)("li",{...t})}const b=(0,u.memo)((function(e){const{blocks:t,blockContextId:r,classList:o,isHidden:s,setActiveBlockContextId:a}=e,i=(0,m.__experimentalUseBlockPreview)({blocks:t,props:{className:p("wp-block-post",o,{"plover-magazine-preview-item":s,"plover-magazine-item":!s})}}),l=()=>{a(r)},c={display:s?"none":void 0},u=s?"div":"li";return(0,n.jsx)(u,{...i,tabIndex:0,role:"button",onClick:l,onKeyPress:l,style:c})}));function _(e){let{setAttributes:t,clientId:r,context:{query:{offset:s=0,postType:a,order:i,orderBy:l,author:c,search:f,exclude:x,sticky:w,inherit:_,taxQuery:j,parents:C,pages:z,format:B,...L}={},templateSlug:P,previewPostType:F},attributes:{magazineLayout:I},__unstableLayoutClassNames:O}=e;const[T,H]=(0,u.useState)(),{posts:N,blocks:S}=(0,d.useSelect)((e=>{const{getEntityRecords:t,getTaxonomies:o}=e(h.store),{getBlocks:n}=e(m.store),p=_&&P?.startsWith("category-")&&t("taxonomy","category",{context:"view",per_page:1,_fields:["id"],slug:P.replace("category-","")}),u=_&&P?.startsWith("tag-")&&t("taxonomy","post_tag",{context:"view",per_page:1,_fields:["id"],slug:P.replace("tag-","")}),d={offset:s||0,order:i,orderby:l};if(j&&!_){const e=o({type:a,per_page:-1,context:"view"}),t=(t,r="")=>Object.entries(t||{}).reduce(((t,[o,s])=>{const n=e?.find((({slug:e})=>e===o));return n?.rest_base&&s?.length&&(t[n.rest_base+r]=s),t}),{}),r=t(j.include);j.exclude&&Object.assign(r,t(j.exclude,"_exclude")),Object.keys(r).length&&Object.assign(d,r)}const g=v(null!=I?I:"style-01");g&&g?.count&&(d.per_page=g?.count),c&&(d.author=c),f&&(d.search=f),x?.length&&(d.exclude=x),C?.length&&(d.parent=C),B?.length&&(d.format=B),["exclude","only"].includes(w)&&(d.sticky="only"===w),["","ignore"].includes(w)&&(delete d.sticky,d.ignore_sticky="ignore"===w);let y=a;return _&&(P?.startsWith("archive-")?(d.postType=P.replace("archive-",""),y=d.postType):p?d.categories=p[0]?.id:u?d.tags=u[0]?.id:P?.startsWith("taxonomy-post_format")&&(d.format=P.replace("taxonomy-post_format-post-format-",""))),{posts:t("postType",F||y,{...d,...L}),blocks:n(r)}}),[s,i,l,r,c,f,a,x,w,_,P,j,C,B,L,F]),M=(0,u.useMemo)((()=>N?.map((e=>{var t;return{postType:e.type,postId:e.id,classList:null!==(t=e.class_list)&&void 0!==t?t:""}}))),[N]),V=(0,m.useBlockProps)({className:p(O,"plover-posts-magazine","plover-magazine-"+(null!=I?I:"style-01"))});return N?N.length?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(y,{...e}),(0,n.jsx)("ul",{...V,children:M&&M.map((e=>(0,n.jsxs)(m.BlockContextProvider,{value:e,children:[e.postId===(T||M[0]?.postId)?(0,n.jsx)(k,{classList:e.classList}):null,(0,n.jsx)(b,{blocks:S,blockContextId:e.postId,classList:e.classList,setActiveBlockContextId:H,isHidden:e.postId===(T||M[0]?.postId)})]},e.postId)))})]}):(0,n.jsxs)("p",{...V,children:[" ",(0,o.__)("No results found.","plover")]}):(0,n.jsx)("p",{...V,children:(0,n.jsx)(g.Spinner,{})})}const j="core/post-template",C="plover-magazine-query",z=(0,n.jsx)(s.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsx)(s.Path,{d:"M18.1823 11.6392C18.1823 13.0804 17.0139 14.2487 15.5727 14.2487C14.3579 14.2487 13.335 13.4179 13.0453 12.2922L13.0377 12.2625L13.0278 12.2335L12.3985 10.377L12.3942 10.3785C11.8571 8.64997 10.246 7.39405 8.33961 7.39405C5.99509 7.39405 4.09448 9.29465 4.09448 11.6392C4.09448 13.9837 5.99509 15.8843 8.33961 15.8843C8.88499 15.8843 9.40822 15.781 9.88943 15.5923L9.29212 14.0697C8.99812 14.185 8.67729 14.2487 8.33961 14.2487C6.89838 14.2487 5.73003 13.0804 5.73003 11.6392C5.73003 10.1979 6.89838 9.02959 8.33961 9.02959C9.55444 9.02959 10.5773 9.86046 10.867 10.9862L10.8772 10.9836L11.4695 12.7311C11.9515 14.546 13.6048 15.8843 15.5727 15.8843C17.9172 15.8843 19.8178 13.9837 19.8178 11.6392C19.8178 9.29465 17.9172 7.39404 15.5727 7.39404C15.0287 7.39404 14.5066 7.4968 14.0264 7.6847L14.6223 9.20781C14.9158 9.093 15.2358 9.02959 15.5727 9.02959C17.0139 9.02959 18.1823 10.1979 18.1823 11.6392Z"})}),B={name:"plover-featured-image-cover",title:(0,o.__)("Plover: Featured Image Cover","plover"),icon:function(e){return(0,n.jsxs)(g.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100.252 92",...e,children:[(0,n.jsxs)("g",{fill:"none",stroke:"currentColor","stroke-width":"6",children:[(0,n.jsx)("rect",{width:"100",height:"92",rx:"16",stroke:"none"}),(0,n.jsx)("rect",{x:"4",y:"4",width:"92",height:"84",rx:"12",fill:"none"})]}),(0,n.jsx)(g.Path,{d:"M2019.365,149.022l24-16.463,11.934,11.463,20.148-22.251,39.133,34.494",transform:"translate(-2016.971 -74.062)",fill:"none",stroke:"currentColor","stroke-width":"6"}),(0,n.jsx)("line",{x2:"56.712",transform:"translate(14.737 19.462)",fill:"none",stroke:"currentColor","stroke-width":"6"}),(0,n.jsx)("line",{x2:"34.172",transform:"translate(14.737 37.043)",fill:"none",stroke:"currentColor","stroke-width":"6"})]})},description:(0,o.__)("Post's featured image with title overlay and full height.","plover"),category:"plover-blocks",keywords:["image","cover","post","featured","magazine"],scope:["block","inserter"],isActive:["useFeaturedImage","minHeight","minHeightUnit"],attributes:{useFeaturedImage:!0,minHeight:100,minHeightUnit:"%",isUserOverlayColor:!0,customGradient:"linear-gradient(0deg,rgb(1,1,1) 15%,rgba(0,0,0,0) 100%)",contentPosition:"bottom left",isDark:!0,style:{color:{text:"#ffffffd9"},spacing:{padding:{top:"24px",right:"24px",bottom:"24px",left:"24px"}}}},innerBlocks:[{name:"core/post-title",attributes:{isLink:!0,style:{elements:{link:{color:{text:"#ffffffd9"},":hover":{color:{text:"#ffffff"}}}},color:{text:"#ffffffd9"},typography:{fontSize:"28px"}}}},{name:"core/post-date",attributes:{style:{elements:{link:{color:{text:"#FFFFFF9E"},":hover":{color:{text:"#ffffff"}}}},color:{text:"#FFFFFF9E"},typography:{fontSize:"14px"}}}}]},L={name:"plover-magazine-template",title:(0,o.__)("Plover: Magazine Template","plover"),icon:function(e){return(0,n.jsxs)(g.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 246.5 136.5",...e,children:[(0,n.jsx)("rect",{width:"100",height:"124",rx:"2",transform:"translate(6 6.5)",fill:"none",stroke:"currentColor","stroke-width":"12"}),(0,n.jsx)("rect",{width:"109",height:"54",rx:"2",transform:"translate(131.5 6)",fill:"none",stroke:"currentColor","stroke-width":"12"}),(0,n.jsx)("rect",{width:"44",height:"46",rx:"2",transform:"translate(131.5 84.5)",fill:"none",stroke:"currentColor","stroke-width":"12"}),(0,n.jsx)("rect",{width:"44",height:"46",rx:"2",transform:"translate(196.5 84.5)",fill:"none",stroke:"currentColor","stroke-width":"12"})]})},description:(0,o.__)("Elevate your WordPress site with the Magazine Block dynamic content presentation.","plover"),category:"plover-blocks",keywords:["magazine","posts","query"],attributes:{layout:"default",className:"is-magazine-design"},scope:["block","inserter","transform"],isActive:["className"],innerBlocks:[{name:"core/cover",attributes:B.attributes,innerBlocks:B.innerBlocks}]},P={name:C,title:(0,o.__)("Plover: Magazine Query","plover"),icon:z,description:(0,o.__)("Query block for Magazine layout design.","plover"),category:"plover-blocks",keywords:["magazine","posts","query"],scope:["block","inserter","transform"],isActive:({namespace:e})=>e===C,attributes:{namespace:C,align:"wide",allowedControls:["inherit","postType","order","sticky","taxQuery","author","search","format","parents"],query:{inherit:!1,postType:"post"}},innerBlocks:[{name:"core/post-template",attributes:L.attributes,innerBlocks:L.innerBlocks}]};(0,e.addFilter)("blocks.registerBlockType","plover/magazine-attributes",((e,t)=>(t!==j||(e.attributes={...e.attributes,magazineLayout:{type:"string",default:"style-01"},containerHeight:{type:"object",default:"520px"}}),e))),(0,e.addFilter)("editor.BlockListBlock","plover/with-magazine-template-css",(0,t.createHigherOrderComponent)((e=>t=>{var r,o,s;const{name:a,attributes:c}=t,p=(0,n.jsx)(e,{...t});if(a!==j||!c?.className?.includes("is-magazine-design"))return p;const[u]=(0,i.useDeviceType)(),d=(0,l.getScalarValueByDevice)(null!==(r=c?.containerHeight)&&void 0!==r?r:"",u),m=null!==(o=c?.style?.spacing?.blockGap)&&void 0!==o?o:"",g={height:null!=d?d:"520px"};m&&(g["--magazine-gap"]=(0,l.formatCustomProperty)(m));const h={...(t={...t,style:{...null!==(s=t.style)&&void 0!==s?s:{},...g}}).wrapperProps,style:{...t.wrapperProps?.style,...g}};return(0,n.jsx)(e,{...t,wrapperProps:h})}),"withMagazineTemplateCss")),(0,e.addFilter)("editor.BlockEdit","plover/magazine-template",(e=>t=>{const{name:r,attributes:o}=t;return r===j&&o?.className?.includes("is-magazine-design")?(0,n.jsx)(_,{...t}):(0,n.jsx)(e,{...t})}),5),(0,r.registerBlockVariation)(j,[{name:"plover-post-template",title:(0,o.__)("Post Template","plover"),icon:a,attributes:{className:""},scope:["transform"],isDefault:!0,isActive:["className"]},L]),(0,r.registerBlockVariation)("core/query",P),(0,r.registerBlockVariation)("core/cover",B)}},r={};function o(e){var s=r[e];if(void 0!==s)return s.exports;var n=r[e]={exports:{}};return t[e](n,n.exports,o),n.exports}o.m=t,e=[],o.O=(t,r,s,n)=>{if(!r){var a=1/0;for(p=0;p<e.length;p++){r=e[p][0],s=e[p][1],n=e[p][2];for(var i=!0,l=0;l<r.length;l++)(!1&n||a>=n)&&Object.keys(o.O).every((e=>o.O[e](r[l])))?r.splice(l--,1):(i=!1,n<a&&(a=n));if(i){e.splice(p--,1);var c=s();void 0!==c&&(t=c)}}return t}n=n||0;for(var p=e.length;p>0&&e[p-1][2]>n;p--)e[p]=e[p-1];e[p]=[r,s,n]},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={51:0,566:0};o.O.j=t=>0===e[t];var t=(t,r)=>{var s,n,a=r[0],i=r[1],l=r[2],c=0;if(a.some((t=>0!==e[t]))){for(s in i)o.o(i,s)&&(o.m[s]=i[s]);if(l)var p=l(o)}for(t&&t(r);c<a.length;c++)n=a[c],o.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return o.O(p)},r=self.webpackChunkplover_core=self.webpackChunkplover_core||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var s=o.O(void 0,[566],(()=>o(333)));s=o.O(s)})();