(()=>{"use strict";var e={d:(r,o)=>{for(var t in o)e.o(o,t)&&!e.o(r,t)&&Object.defineProperty(r,t,{enumerable:!0,get:o[t]})},o:(e,r)=>Object.prototype.hasOwnProperty.call(e,r),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},r={};e.r(r),e.d(r,{blockEditorStore:()=>i,blocksStore:()=>s,coreStore:()=>c,noticesStore:()=>n,ploverBlocksStore:()=>l,ploverDeviceTypeStore:()=>a,ploverIconsStore:()=>p,useDeviceType:()=>w});const o=window.wp.data,t=window.plover.utils,i="core/block-editor",s="core/blocks",c="core",n="core/notices",a="plover/responsive-device-type",l="plover/blocks",p="plover/icons",d={deviceType:"desktop"},v={name:a,options:{reducer:(e=d,r)=>"SET_PREVIEW_DEVICE_TYPE"===r.type?{...e,deviceType:r.payload}:e,actions:{setPreviewDeviceType:function(e){const r=("site-editor"===window.pagenow?(0,o.dispatch)("core/edit-site"):(0,o.dispatch)("core/edit-post")||!1).__experimentalSetPreviewDeviceType;return r&&r((0,t.capitalize)(e)),"customize"===(window?window.pagenow:void 0)&&wp.customize&&wp.customize.previewedDevice(e),{type:"SET_PREVIEW_DEVICE_TYPE",payload:e}}},selectors:{getPreviewDeviceType:function(e){var r;const t="site-editor"===window.pagenow?null!==(r=(0,o.select)("core/editor"))&&void 0!==r?r:(0,o.select)("core/edit-site"):(0,o.select)("core/edit-post");return t&&t.getDeviceType?t.getDeviceType().toLowerCase():t&&t.__experimentalGetPreviewDeviceType?t.__experimentalGetPreviewDeviceType().toLowerCase():e.deviceType}}}},y={blocks:{}},u={name:l,options:{reducer(e=y,r){switch(r.type){case"ADD_BLOCK":return{...e,blocks:{...e.blocks,[r.id]:r.payload}};case"REMOVE_BLOCK":return{...e,blocks:Object.fromEntries(Object.keys(e.blocks).map((o=>o===r.id?null:[o,e.blocks[o]])).filter((e=>e)))}}return e},actions:{addBlock:function(e,r){return{type:"ADD_BLOCK",id:e,payload:r}},removeBlock:function(e){return{type:"REMOVE_BLOCK",id:e}}},selectors:{getBlock:function(e,r){return e.blocks[r]},getBlocks:function(e){return e.blocks}}}},I=window.plover.api,b={libraries:[],icons:{},isResetting:!1},_={reset:()=>({type:"RESET_STATE"}),fetchIconLibrariesFromAPI:()=>({type:"FETCH_ICON_LIBRARIES_FROM_API"}),fetchIconsFromAPI:e=>({type:"FETCH_ICONS_FROM_API",library:e}),setIconLibraries:({libraries:e})=>({type:"SET_LIBRARIES",libraries:e}),setIcons:(e,{icons:r})=>({type:"SET_LIBRARY_ICONS",library:e,icons:r})},S={name:p,options:{reducer(e=b,r){switch(r.type){case"RESET_STATE":e={...e,isResetting:!e.isResetting};break;case"SET_LIBRARIES":e={...e,libraries:r.libraries};break;case"SET_LIBRARY_ICONS":e={...e,icons:{...e.icons,[r.library]:r.icons}}}return e},actions:_,selectors:{getIconLibraries:e=>{var r;return null!==(r=e.libraries)&&void 0!==r?r:[]},getIcons:(e,r)=>{var o;return{library:r,icons:null!==(o=e.icons[r])&&void 0!==o?o:[]}},getIsResetting:e=>e.isResetting},controls:{FETCH_ICON_LIBRARIES_FROM_API:()=>(0,I.fetchIconLibraries)(),FETCH_ICONS_FROM_API:({library:e})=>(0,I.fetchIcons)(e)},resolvers:{*getIconLibraries(){const e=yield _.fetchIconLibrariesFromAPI();return _.setIconLibraries(e)},*getIcons(e){const r=yield _.fetchIconsFromAPI(e);return _.setIcons(e,r)}}}};function w(){const e=(0,o.useSelect)((e=>e("plover/responsive-device-type").getPreviewDeviceType()),[]),{setPreviewDeviceType:r}=(0,o.useDispatch)(a);return[e,r]}o.register?((0,o.register)((0,o.createReduxStore)(v.name,v.options)),(0,o.register)((0,o.createReduxStore)(u.name,u.options)),(0,o.register)((0,o.createReduxStore)(S.name,S.options))):((0,o.registerStore)(v.name,v.options),(0,o.registerStore)(u.name,u.options),(0,o.registerStore)(S.name,S.options)),(window.plover=window.plover||{}).data=r})();