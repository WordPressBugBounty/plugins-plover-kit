(()=>{"use strict";const e=window.wp.hooks,o=window.wp.components,t=window.wp.compose,i=window.plover.utils,s=window.plover.data,l=window.wp.blockEditor,n=window.wp.i18n,r=window.plover.components,p=window.ReactJSXRuntime;function a({name:e,attributes:t,setAttributes:s}){if(!1===(0,i.getPloverSupport)(e,"ploverPosition"))return null;const a=(0,i.getPloverSupport)(e,"ploverPosition")?.position,c=(0,i.getPloverSupport)(e,"ploverPosition")?.zIndex;return!1===a&&!1===c?null:(0,p.jsx)(l.InspectorControls,{children:(0,p.jsxs)(o.PanelBody,{title:(0,n.__)("Plover: Position","plover"),initialOpen:!1,children:[(0,p.jsx)(r.Tips,{variant:"warning",children:(0,p.jsx)("p",{children:(0,n.__)("Those properties may break your layout, use them only if you're 100% sure what you're doing.","plover")})}),!1!==a&&(0,p.jsx)(r.ResponsiveControl,{title:(0,n.__)("Position","plover"),link:"https://developer.mozilla.org/en-US/docs/Web/CSS/position",Component:o.SelectControl,value:t.cssPosition,onChange:e=>{s({cssPosition:e})},controlProps:{options:[{label:"",value:""},...a?.options||[{label:(0,n.__)("Static (Default)","plover"),value:"static"},{label:(0,n.__)("Relative","plover"),value:"relative"},{label:(0,n.__)("Absolute","plover"),value:"absolute"},{label:(0,n.__)("Sticky","plover"),value:"sticky"},{label:(0,n.__)("Fixed","plover"),value:"fixed"}]]}}),!1!==c&&(0,p.jsx)(r.ResponsiveControl,{title:(0,n.__)("Z-Index","plover"),link:"https://developer.mozilla.org/en-US/docs/Web/CSS/z-index",Component:o.__experimentalNumberControl,value:t.cssZIndex,sanitizer:e=>""===e?e:Number(e),onChange:e=>{s({cssZIndex:e})},controlProps:{step:1}}),(0,p.jsx)(r.ResponsiveControl,{Component:r.BoxControl,devices:!1,value:t.cssPositionedValue,onChange:e=>{s({cssPositionedValue:e})},controlProps:{__next40pxDefaultSize:!1,label:(0,n.__)("Positioned value","plover"),allowReset:!1,inputProps:{}}}),(0,p.jsx)(r.Tips,{children:(0,p.jsx)("a",{href:"https://wpplover.com/docs/plover-kit/modules/css-position/",target:"_blank",children:(0,n.__)("Documentation â†—","plover")})})]})})}function c(e){const[t,i]=(0,o.__experimentalParseQuantityAndUnitFromRawValue)(e);if(void 0!==t)return i?`${t}${i}`:`${t}px`}(0,e.addFilter)("blocks.registerBlockType","plover/position-attributes",((e,o)=>{const t=(0,i.getPloverSupport)(o,"ploverPosition");if(!t)return e;const s={};return!1!==t?.position&&(s.cssPosition={type:"object"},s.cssPositionedValue={type:"object"}),!1!==t?.zIndex&&(s.cssZIndex={type:"object"}),e.attributes={...e.attributes,...s},e})),(0,e.addFilter)("editor.BlockListBlock","plover/with-block-position-css",(0,t.createHigherOrderComponent)((e=>o=>{var t,l,n,r;const{name:a}=o,u=(0,p.jsx)(e,{...o});if(!(0,i.hasPloverSupport)(a,"ploverPosition"))return u;const[v]=(0,s.useDeviceType)(),d=(0,i.getScalarValueByDevice)(null!==(t=o?.attributes?.cssPosition)&&void 0!==t?t:"",v),P=(0,i.getScalarValueByDevice)(null!==(l=o?.attributes?.cssPositionedValue)&&void 0!==l?l:{},v),w=(0,i.getScalarValueByDevice)(null!==(n=o?.attributes?.cssZIndex)&&void 0!==n?n:"",v),b={};b.top=c(P?.top),b.right=c(P?.right),b.bottom=c(P?.bottom),b.left=c(P?.left),d&&(b.position=d),""!==w&&(b.zIndex=Number(w));const x={...(o={...o,style:{...null!==(r=o.style)&&void 0!==r?r:{},...b}}).wrapperProps,style:{...o.wrapperProps?.style,...b}};return(0,p.jsx)(e,{...o,wrapperProps:x})}),"withBlockPositionCss")),(0,e.addFilter)("editor.BlockEdit","plover/position-controls",(e=>o=>{const{isSelected:t,name:s}=o;return(0,i.hasPloverSupport)(s,"ploverPosition")?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(e,{...o}),t&&(0,p.jsx)(a,{...o})]}):(0,p.jsx)(e,{...o})}),200)})();