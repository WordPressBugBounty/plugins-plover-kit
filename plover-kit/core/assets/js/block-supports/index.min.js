(()=>{"use strict";const o=window.wp.hooks,e=window.wp.compose,r=window.wp.element,t=window.wp.data,l=window.wp.blocks;function s(o){var e,r,t="";if("string"==typeof o||"number"==typeof o)t+=o;else if("object"==typeof o)if(Array.isArray(o)){var l=o.length;for(e=0;e<l;e++)o[e]&&(r=s(o[e]))&&(t&&(t+=" "),t+=r)}else for(r in o)o[r]&&(t&&(t+=" "),t+=r);return t}const c=function(){for(var o,e,r=0,t="",l=arguments.length;r<l;r++)(o=arguments[r])&&(e=s(o))&&(t&&(t+=" "),t+=e);return t},p=window.plover.data,i=window.plover.utils,n=window.ReactJSXRuntime;(0,o.addFilter)("blocks.registerBlockType","plover/block-supports",((o,e)=>(Object.keys((0,i.blockSupports)()).includes(e)&&(o.supports=(0,i.deepMerge)(o.supports,(0,i.blockSupports)()[e])),o)),0),(0,o.addFilter)("editor.BlockListBlock","plover/with-block-gap-css",(0,e.createHigherOrderComponent)((e=>r=>{var t,l;const{name:s}=r,c=(0,o.applyFilters)("plover.blocksWithBlockGap",["plover-kit/toc","plover-docs/doc-list","core/page-list","core/list","core/button","core/post-author","core/tag-cloud","core/read-more"]),p=(0,n.jsx)(e,{...r});if(!c.includes(s))return p;const a=null!==(t=r?.attributes?.style?.spacing?.blockGap)&&void 0!==t?t:"";if(!a)return p;const k={...(r={...r,style:{...null!==(l=r.style)&&void 0!==l?l:{},"--plover--style--block-gap":(0,i.formatCustomProperty)(a)}}).wrapperProps,style:{...r.wrapperProps?.style,"--plover--style--block-gap":(0,i.formatCustomProperty)(a)}};return(0,n.jsx)(e,{...r,wrapperProps:k})}),"withBlockGapCss")),(0,o.addFilter)("blocks.registerBlockType","plover/unique-block-id",((o,e)=>(o.attributes={...o.attributes,ploverBlockID:{type:"string"}},o))),(0,o.addFilter)("editor.BlockListBlock","plover/with-unique-block-id",(0,e.createHigherOrderComponent)((o=>e=>{const{name:s,clientId:a,attributes:k,setAttributes:d}=e,{addBlock:u,removeBlock:v}=(0,t.useDispatch)(p.ploverBlocksStore),{getBlock:w,getBlockParents:B,getPloverBlock:b}=(0,t.useSelect)((o=>({...o(p.blockEditorStore),getPloverBlock:o(p.ploverBlocksStore).getBlock})),[]);(0,r.useEffect)((()=>{var o,e;const r=null!==(o=w(a))&&void 0!==o?o:{},t={...r,attributes:{...r?.attributes,ploverBlockID:void 0}};if((0,l.isUnmodifiedDefaultBlock)(t)||(0,i.isSyncedBlock)(r))return void(k?.ploverBlockID&&(v(k?.ploverBlockID),d({ploverBlockID:void 0})));if((null!==(e=B(a))&&void 0!==e?e:[]).some((o=>(0,i.isSyncedBlock)(w(o)))))return;const s=b(k?.ploverBlockID);!k?.ploverBlockID||s?s?.clientId!==a&&d({ploverBlockID:a}):u(k?.ploverBlockID,r)}),[a,s,k]);const f={...e?.wrapperProps,className:c(e?.wrapperProps?.className,`plover-block-${k?.ploverBlockID}`)};return(0,n.jsx)(o,{...e,wrapperProps:f})}),"withBlockID"))})();